# Story 07.03: Edit Meal Option for Bookings (Regular & Recurring)

- **Status**: Approved
- **Epic**: Booking Management

## Story

**As a** user,
**I want** to edit the meal option for any booking (regular or recurring occurrence) from the My Bookings modal,
**so that** I can update my meal choice for that day, and for recurring bookings, override the meal option for just that occurrence without changing the original recurring booking settings.

## Acceptance Criteria

1. The user can view and edit the meal option for any booking (regular or recurring occurrence) from the My Bookings modal.
2. For recurring bookings, only the selected occurrence is updated; the change is stored as an override and does not affect the original recurring booking template.
3. The system displays the updated or overridden meal option in the user's booking list for that occurrence.
4. The user receives confirmation after a successful update.
5. The backend supports storing and retrieving meal option updates for regular bookings and overrides for recurring booking occurrences.

## Tasks / Subtasks

- [ ] **Frontend:**
  - [ ] Add UI in My Bookings modal to edit meal option for any booking (regular or recurring occurrence).
  - [ ] Display updated or overridden meal option in booking details.
- [ ] **Backend:**
  - [ ] Update booking API to support meal option updates for regular bookings and overrides for recurring booking occurrences.
  - [ ] Store and retrieve meal option updates and overrides.

## Dev Notes

- **Database:** Add support for storing meal option updates for regular bookings and overrides linked to recurring booking occurrences.
- **API:** Endpoints for updating and retrieving meal option updates and overrides.
- **Relevant Files:**
  - `apps/swivel-portal/src/components/booking/BookingModal.tsx`
  - `apps/swivel-portal-api/`
  - `libs/dal/`

### Testing

- **Unit Tests:**
  - Test update logic for regular bookings and override logic for recurring booking occurrences.
  - Test UI for editing and displaying updated/overridden meal options.
- **Integration Tests:**
  - Test API endpoints for meal option updates and overrides.

## Change Log

| Date       | Version | Description                        | Author         |
| ---------- | ------- | ---------------------------------- | -------------- |
| 2025-10-30 | 1.1     | Expanded to cover regular bookings | GitHub Copilot |
