# Story 03.03: Configure Default Seat Count

- **Status**: Draft
- **Epic**: Admin Features

## Story

**As an** admin,
**I want** to set the default seat count,
**so that** I can define the standard seating capacity for the office.

## Acceptance Criteria

1. An admin can access a settings area to configure the default seat count.
2. The value can be updated and saved.
3. This default value is used for availability calculations on any day that does not have a specific override.
4. Non-admin users cannot access this setting.

## Tasks / Subtasks

- [ ] **Frontend:**
  - [ ] Create an admin-only settings page or section.
  - [ ] Add a form field for the default seat count.
  - [ ] The form should fetch the current value and allow the admin to submit an updated value.
- [ ] **Backend:**
  - [ ] Create an API endpoint `GET /api/seatbooking/config` to fetch the current configuration, including the default seat count.
  - [ ] Create an API endpoint `PUT /api/seatbooking/config/default-seat-count` to update the default seat count.
  - [ ] Both endpoints must be protected and accessible only by admins.
  - [ ] The configuration should be stored in the `seatConfigurations` collection.

## Dev Notes

- **API Endpoints:**
  - `GET /api/seatbooking/config`
  - `PUT /api/seatbooking/config/default-seat-count`
- **Database Collection:** `seatConfigurations`. This will likely be a single-document collection to store global settings.
- **Authorization:** Ensure these endpoints are restricted to admin users.
- **Relevant Files:**
  - `apps/swivel-portal/src/pages/AdminSettings.tsx` (or similar)
  - `apps/swivel-portal-api/`

### Testing

- **Integration Tests:**
  - Test the GET and PUT endpoints for the configuration.
  - After updating the default seat count, call the `GET /api/seatbooking/availability` endpoint for a date without an override to verify the new default is being used.
- **E2E Tests:**
  - Simulate an admin changing the default seat count and a user seeing the impact on availability.

## Change Log

| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2025-10-08 | 1.0 | Initial draft | Bob (SM) |
