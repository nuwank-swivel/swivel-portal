# Story 4.2: Admin View All Bookings

- **Status**: Approved
- **Epic**: Admin Features

## Story

**As an** admin,
**I want** to view all bookings for a selected date,
**so that** I can monitor and manage seat allocations effectively.

## Acceptance Criteria

1. An admin can see a "View all bookings" button next to the "My bookings" button (visible only to admins).
2. Clicking the button opens a modal with a date picker field.
3. When a date is selected, the modal displays a list of all bookings for that date.
4. The list includes each booked user's name, duration type, and meal type.
5. Non-admin users cannot access this functionality.
6. The system retrieves and displays up-to-date booking data for the selected date.

## Tasks / Subtasks

- [ ] **Frontend:**
  - [ ] Add a "View all bookings" button next to the "My bookings" button (admin-only).
  - [ ] Implement a modal that opens on button click, containing a date picker.
  - [ ] Fetch and display the list of bookings for the selected date, showing user's name, duration type, and meal type.
  - [ ] Ensure only admin users can access this feature.
- [ ] **Backend:**
  - [ ] Create an API endpoint `GET /api/seatbooking/bookings?date={date}` to return all bookings for a given date.
  - [ ] Restrict this endpoint to admin users only.
  - [ ] Ensure the response includes user's name, duration type, and meal type for each booking.

## Dev Notes

- **API Endpoint:** `GET /api/seatbooking/bookings?date={date}`
- **Authorization:** Admin-only access.
- **Relevant Files:**
  - `apps/swivel-portal/src/components/admin/AllBookingsModal.tsx` (or similar)
  - `apps/swivel-portal-api/`

### Testing

- **Integration Tests:**
  - Test the `GET /api/seatbooking/bookings?date={date}` endpoint for admin and non-admin access.
  - Verify the response includes all required booking details.
- **E2E Tests:**
  - Simulate an admin viewing all bookings for a date and confirm correct data is shown.
  - Ensure non-admins cannot access the feature.

## Change Log

| Date       | Version | Description   | Author         |
| ---------- | ------- | ------------- | -------------- |
| 2025-10-14 | 1.0     | Initial draft | GitHub Copilot |
