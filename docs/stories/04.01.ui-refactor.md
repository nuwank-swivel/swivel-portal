# Story 04.01: UI Refactor to Mantine

## Status

Approved

## Story

**As a** Developer,
**I want** to refactor the Swivel Portal UI to use Mantine UI,
**so that** the application is modernized and easier to maintain.

## Acceptance Criteria

1.  All existing UI components are replaced with their Mantine UI equivalents.
2.  The application's look and feel is updated to be consistent with the Mantine design system.
3.  Existing functionality remains unchanged.
4.  The seat booking page uses the Mantine `DatePicker` component for selecting dates.
5.  Reusable components are extracted and used across the application.
6.  All libraries are updated to their latest stable versions, including React 19.

## Tasks / Subtasks

- [x] **Task 1: Install and configure Mantine UI** (AC: 1, 6)
  - [x] Add `@mantine/core`, `@mantine/hooks`, and other necessary Mantine packages to `apps/swivel-portal/package.json`.
  - [x] Update React and related dependencies to version 19.
  - [x] Update the application's entry point to include the `MantineProvider`.
  - [x] Configure the Mantine theme to align with the Swivel brand.
- [x] **Task 2: Refactor core layout and navigation** (AC: 1, 2)
  - [x] Replace existing layout components with Mantine's `AppShell`, `Grid`, `Group`, etc.
  - [x] Update navigation components to use Mantine's `NavLink`, `Burger`, etc.
- [x] **Task 3: Refactor UI components** (AC: 1, 2, 5)
  - [x] Systematically replace Radix UI components with Mantine components (e.g., `Button`, `TextInput`, `Modal`).
  - [x] Identify and create reusable UI components in `apps/swivel-portal/app/components/ui/`.
- [x] **Task 4: Refactor pages** (AC: 1, 2, 3)
  - [x] Refactor the Login page.
  - [x] Refactor the Dashboard page.
  - [x] Refactor the Booking page.
- [x] **Task 5: Refactor Seat Booking page with DatePicker** (AC: 4)
  - [x] Replace the existing calendar component with Mantine's `DatePicker`.
  - [x] Ensure the `DatePicker` is correctly integrated with the booking form.
- [x] **Task 6: Verification and Testing** (AC: 1, 2, 3, 4, 5)
  - [x] Run all existing unit and component tests to ensure they pass.
  - [x] Manually test all application workflows to verify functionality.
  - [x] Run E2E tests to ensure no regressions.

## Dev Notes

### Technical Stack

- **Framework**: React 19 with TypeScript 5.2
- **Monorepo**: Nx
- **UI Framework**: ShadcnUI (React) with Tailwind CSS - **This will be replaced with Mantine UI.**
- **State Management**: React Context + Hooks
- **Authentication**: MSAL.js 3.0 for Azure AD
- **HTTP Client**: Axios with interceptors
- **Package Manager**: Bun

[Source: `docs/architecture/01-technical-stack.md`]

### Project Structure

- The frontend application is located in `apps/swivel-portal/`.
- Reusable UI components should be placed in `apps/swivel-portal/app/components/ui/`.
- The application follows a clean separation of concerns, with business logic in `libs/domain` and data access in `libs/dal`.

[Source: `docs/architecture/06-development.md`]

### Testing

- **Unit tests**: Vitest
- **Component testing**: React Testing Library (RTL)
- **E2E tests**: Playwright
- A minimum of 80% test coverage is required for all shared libraries and critical application logic.

[Source: `docs/architecture/10-testing.md` and `docs/architecture/06-development.md`]

## Change Log

| Date       | Version | Description            | Author   |
| ---------- | ------- | ---------------------- | -------- |
| 2025-10-13 | 1.0     | Initial draft of story | Bob (SM) |

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

- All UI components refactored to Mantine equivalents; no legacy or custom UI code remains.
- Core layout and navigation use Mantine AppShell, Grid, Group, and NavLink.
- All pages (Login, Dashboard, Booking) refactored to Mantine.
- Seat Booking page uses Mantine DatePicker.
- All libraries updated to latest stable versions, including React 19.
- All tests (unit, component, E2E) pass and workflows verified.

### File List

- apps/swivel-portal/package.json
- apps/swivel-portal/app/entry.client.tsx
- apps/swivel-portal/app/theme.ts
- apps/swivel-portal/app/components/ui/button.tsx
- apps/swivel-portal/app/components/ui/input.tsx
- apps/swivel-portal/app/components/ui/textarea.tsx
- apps/swivel-portal/app/components/ui/select.tsx
- apps/swivel-portal/app/components/ui/label.tsx
- apps/swivel-portal/app/components/ui/card.tsx
- apps/swivel-portal/app/components/ui/accordion.tsx
- apps/swivel-portal/app/components/ui/avatar.tsx
- apps/swivel-portal/app/components/ui/badge.tsx
- apps/swivel-portal/app/components/ui/breadcrumb.tsx
- apps/swivel-portal/app/components/ui/dialog.tsx
- apps/swivel-portal/app/components/ui/popover.tsx
- apps/swivel-portal/app/components/ui/scroll-area.tsx
- apps/swivel-portal/app/components/ui/separator.tsx
- apps/swivel-portal/app/components/ui/skeleton.tsx
- apps/swivel-portal/app/components/ui/switch.tsx
- apps/swivel-portal/app/components/ui/tabs.tsx
- apps/swivel-portal/app/components/ui/tooltip.tsx
- apps/swivel-portal/app/components/ui/radio-group.tsx
- apps/swivel-portal/app/components/ui/toast.tsx
- apps/swivel-portal/app/components/ui/toaster.tsx
- apps/swivel-portal/app/components/ui/sonner.tsx
- apps/swivel-portal/app/components/ui/use-toast.ts
- apps/swivel-portal/app/components/booking/BookingModal.tsx
- apps/swivel-portal/app/pages/SeatBooking.tsx
- apps/swivel-portal/app/pages/Dashboard.tsx
- apps/swivel-portal/app/pages/Login.tsx

## QA Results
